<section data-type="chapter" id="writing-in-the-editor-XRmCN">
<h1>Writing in the Editor</h1>

<p>Atlas gives you a fully functional editor for writing and formatting your content. To access the editor, just click a file from the project dashboard, and that file will open in editing mode.&nbsp;Atlas has two editor modes—visual and code—and supports four markup languages: HTML, <a data-original-title="" href="markdownref" title="">Markdown</a>, AsciiDoc, and DocBook (read more about the editor modes in <a data-original-title="" href="#editingenvironments" title="">Editing Environments</a>). The visual editor is only available to people using HTML, and includes a number of editing and formatting tools in the toolbar.</p>

<div><iframe allowfullscreen frameborder="0" height="320" src="//www.youtube.com/embed/A25a4D8kR2I?modestbranding=1&amp;rel=0&amp;controls=2&amp;showinfo=0" width="570"></iframe></div>

<section data-type="sect1" id="the-toolbar-vwNfa">
<h1>The Toolbar</h1>

<p>Many of the standard formatting tools you've grown to know and love in other word processors are available in the visual editor's toolbar. From left to right, you've got the following options:</p>

<dl>
	<dt><img alt="Alt Text" class="icontentsimagesboldbuttonpng" src="images/boldbutton.png"> Bold</dt>
	<dd>
	<p>Bolds your selected text.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesitalbuttonpng" src="images/italbutton.png"> Italic</dt>
	<dd>
	<p>Italicizes your selected text.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimageslinkbuttonpng" src="images/linkbutton.png"> Add a link</dt>
	<dd>
	<p>Converts your selected text to a link. To link to a location within your project, instead of typing the full path, simply type the id of the element, preceded by a # sign, like this: <code>#buildsettings</code>—no file name is necessary. When you build, Atlas will make sure to correctly convert all of those link destinations to include the correct file name.</p>
	</dd>
	<dt id="indextagging"><img alt="Alt Text" class="icontentsimagesindextermpng" src="images/indexterm.png"> Add an index entry</dt>
	<dd>
	<p>An index is a collection of key words, concepts, and phrases that are found throughout your project. To create an index, add index terms to your project text by placing your cursor where the term is discussed, and then clicking this button; you'll get a dialog box where you can add an index term, and optionally a secondary and tertiary term as well.&nbsp;When you build, Atlas will collect all of these terms into an alphabetical list linked to the tag locations that you specified.&nbsp;</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimageslinkbuttonpng" src="images/footnote.png"> Add a footnote</dt>
	<dd>
	<p>Inserts a footnote at the current cursor position. Place footnotes where you want the marker to appear in the output, and the Atlas toolchain will take care of floating the footnotes to the bottom of the page, adding the numbered markers, etc.</p>

	<div data-type="note" id="note-X9EFg"><h6>Note</h6>
	<h1>Note</h1>

	<p>Inline styles, such as bold and italic, can't currently be added to footnotes via the visual editor, but are supported and can be added in the code editor. You can read more about footnote markup in HTMLBook <a class="link" href="http://oreillymedia.github.io/HTMLBook/#_footnote_endnote">here</a>.</p>
	</div>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesoutdentbuttonpng" src="images/ID.png"> Define a section ID</dt>
	<dd>
	<p>Adds a unique ID to the current section for use in styling with CSS or anchoring a cross reference.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesindentbuttonpng" src="images/xref.png"> Insert a cross reference</dt>
	<dd>
	<p>Creates a cross reference to a previously created section ID. In digital output formats, this will appear as a clickable link.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesnumbuttonpng" src="images/numbutton.png"> Convert to or insert a numbered list</dt>
	<dd>
	<p>If you have some text selected, that text will be converted to a numbered list. If not, Atlas will insert an empty numbered list item to get your list started.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesbulletbuttonpng" src="images/bulletbutton.png"> Convert to or insert a bulleted list</dt>
	<dd>
	<p>If you have some text selected, that text will be converted to a bulleted list. If not, Atlas will insert an empty bulleted list item to get your list started.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagestablebuttonpng" src="images/tablebutton.png"> Insert a table</dt>
	<dd>
	<p>This button opens up a menu for you to set up a table that will be inserted at the current location of your cursor. You can set the number of columns and rows, and tell Atlas whether your table should include heading rows.&nbsp;&nbsp;</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesblockquotebuttonpng" src="images/mediaembed.png"> Embed media</dt>
	<dd>
	<p>Allows you to insert interactive web content, such as video or audio, into your document.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagescodebuttonpng" src="images/codebutton.png"> Insert a code block or format inline code</dt>
	<dd>
	<p>If you have some text selected, Atlas will format it as inline code. If not, Atlas will insert a new placeholder code block for you to type in. If you hover over that code block, you'll see a little &lt;/&gt; icon at bottom center. Click this icon to tell Atlas what code language this block uses, so Atlas will know how to apply syntax highlighting when you build.</p>

	<figure id="id-xZVuW"><img alt="Alt Text" class="icontentsscreen-shot-2013-10-15-at-34912-pmpng" src="images/screenshot1.png">
	<figcaption>Click the icon to add the language for the code block.</figcaption>
	</figure>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesblockquotebuttonpng" src="images/math.png"> Equation editor</dt>
	<dd>
	<p>Allows you to insert beautifully formatted math content into your document. The equation editor supports LaTeX formatting.</p>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesblockquotebuttonpng" src="images/comment.png"> Comment</dt>
	<dd>
	<p>Add comments to the document for your co-collaborators. Comments won't be output when you build the project.</p>
	</dd>
	<dt id="pastfromword"><img alt="Alt Text" class="icontentsimagespastefrombuttonpng" src="images/pastefrombutton.png"> Paste from Word or Paste Plain Text</dt>
	<dd>
	<p>This menu helps with copying over pieces from a Word document or from a plain text file. Paste the text you are copying inside the dialog box that appears, and Atlas will do its best to transfer over your formatting (or strip it out, if you're pasting plain text).&nbsp;</p>

	<div data-type="warning" id="warning-7DNir"><h6>Warning</h6>
	<h1>Warning</h1>

	<p>This option is meant to be used only for short blocks of text, <em>not</em> for entire documents. If you've got an entire file that you want to put in Atlas, you should have that file converted to HTMLBook by a third-party vendor--or take advantage of Atlas' <a data-original-title="" href="#conversion-servicesif" title="">Conversion Services</a>--and then add that converted HTML to Atlas instead.</p>
	</div>
	</dd>
	<dt><img alt="Alt Text" class="icontentsimagesinsertbuttonpng" src="images/insertbutton.png"> The Insert... menu</dt>
	<dd>
	<p>The Insert... menu is your one-stop shop for adding predefined text blocks to your document. You can add smaller blocks like notes, warnings, and sidebars, or higher-level blocks like chapters and sections (see <a href="#addingsections">Using and Adding Sections</a> for more on the latter). To add a block, place your cursor where you want the new block to appear, and then choose the kind of block you want from the drop-down menu. Atlas will insert the pre-formatted block along with some placeholder text that you can replace.</p>

	<div data-type="warning" id="warning-Bd6I6"><h6>Warning</h6>
	<h1>Warning</h1>

	<p>Not all elements are allowed everywhere—for example, you can't insert a chapter inside a sidebar. If an element isn't allowed, it'll be grayed out in the menu.</p>
	</div>
	</dd>
</dl>
</section>

<section data-type="sect1" id="addingsections">
<h1>Using and Adding Sections</h1>

<p>The concept of <em>sections</em> can be a little tricky to wrap your head around. A section is a block of text that adheres to a specific theme or goes together in some way. The most popular kind of section is a <em>chapter</em>, and if you're writing a novel, this is probably the only kind of section you'll need.</p>

<p>However, more complex projects like reference manuals or documentation will likely want to subdivide chapters further into different levels of sections, as a way of organizing the content into more easily digestible chunks. For example, this chapter of documentation (the one you're reading right now!)&nbsp;is split into multiple level 1 sections, and some of those level 1 sections are split into level 2 sections, and so on.&nbsp;</p>

<p>Atlas depends on nested sections in your project in order to create a hierarchical table of contents, both visible to readers, and for devices like the iPad or Kindle to use in their internal navigation systems. This means that if you want those features to work correctly when you build your project, you'll need to use nested sections to structure your content.</p>

<div data-type="note" id="note-for-asciidoc-and-markdown-users-qWVtV"><h6>Note</h6>
<h1>Note for AsciiDoc and Markdown Users</h1>

<p>If you're writing in AsciiDoc or Markdown, then Atlas will take care of adding correctly nested sections based on your headings when you build, with no extra steps needed from you. Proceed normally!</p>
</div>

<p>Sections in Atlas can go up to 5 levels deep: Chapter &gt; Section 1 &gt; Section 2 &gt; Section 3 &gt; Section 4.&nbsp;</p>

<p>Sections in the visual editor are clearly delineated by dotted borders--the more borders, the deeper the section is nested. For example, if there are three border lines around a paragraph, then that paragraph is within a section that is three levels deep--most likely a <code>Section 2</code> within a <code>Section 1</code> within a <code>Chapter</code> .</p>

<p>The special markup is all happening behind the scenes in the code editor; all you really need to know is that you should use nested sections for your content (as opposed to free-standing headings).&nbsp;</p>

<p>The steps for adding a new section vary depending on what kind of textual element you're currently editing. Generally, you'll follow one of these two paths:</p>

<ol>
	<li>Insert a new paragraph by pressing Enter on your keyboard.</li>
	<li>With your cursor in that new, empty paragraph, go to the Insert... menu, and choose Section.&nbsp;</li>
</ol>

<p>Atlas will automatically insert a section at the correct nesting level; for example, if you're inside a Section 1, Atlas will insert a Section 2; if you're inside a Section 2, Atlas will insert a Section 3,&nbsp;and so on.</p>

<p>The steps above work great when you're just working with plain text paragraphs, but sometimes you'll need to add sections after more complex blocks like notes, sidebars, code blocks, and so on. If you just press Enter, you'll get a new paragraph <em>inside</em> that block element. To insert a new paragraph <em>after</em> the block, do the following:</p>

<ol>
	<li>Hover your cursor over the block until you see the ¶ at the bottom right of the block.&nbsp;</li>
	<li>Click the ¶ to insert a new paragraph after the block.</li>
	<li>With your cursor in that new, empty paragraph, go to the Insert... menu, and choose Section.</li>
</ol>

<div data-type="warning" id="warning-PVyUG"><h6>Warning</h6>
<h1>Warning</h1>

<p>If a block element is located at the end of a section, the editor may not allow you to click the ¶ to add a new paragraph after that block. To get around this, you'll need to dive into the HTML behind the scenes:</p>

<ol>
	<li>Open the Code Editor and navigate to the block element you wanted to add a paragraph after.</li>
	<li>Find the closing tag for that block element (it'll usually be something like this: <code>&lt;/div&gt;</code> , <code>&lt;/aside&gt;</code> , <code>&lt;/pre&gt;</code> , <code>&lt;/ul&gt;</code> , or <code>&lt;/ol&gt;</code> . (The / means it's a closing tag, as opposed to an opening tag, which would not have a slash.)</li>
	<li>Press Enter immediately after that closing tag, and insert the following: <code>&lt;p&gt;Some text.&lt;/p&gt;</code></li>
	<li>Save and switch back to the Visual Editor. You should now see a new paragraph containing the text "Some text."&nbsp;after the original block element. You can delete the text and insert a section in that paragraph, or you can press the Enter key either at the beginning or end of that paragraph to insert another new, blank paragraph and add a section there (as described above).</li>
</ol>
</div>
</section>

<section data-type="sect1" id="addingimages">
<h1>Adding Images</h1>

<p>Adding images is super easy—simply open the file navigator on your PC, and then drag the image file into your Atlas project. Atlas will automatically upload the image into your repository, and insert the image in the location you dropped it.&nbsp;Images will get stored in the same folder as the open file by default.</p>

<figure id="id-756SE"><img alt="Alt Text" class="icontentsscreen-shot-2013-10-15-at-125447-pmpng" src="images/addanimage.png">
<figcaption>Add an image in one step: Drag the image from your system file navigator straight into an open file in Atlas.</figcaption>
</figure>

<p>Alternatively, you can add images to your repository by dragging them into the Atlas file navigator in the left sidebar; insert them into your project by placing your cursor in the correct location within your project, and then clicking the image file name in the file list. This method gives you finer control over the organization of the files in your repository (for example, if you want all images to be stored in a subfolder called "images").</p>

<figure id="id-1o4HO"><img alt="Alt Text" class="icontentsscreen-shot-2013-10-15-at-125107-pmpng" src="images/filessidebar.png">
<figcaption>Two step method for adding images: 1) Drag the image into the Atlas file navigator; 2) Click the image file name to insert it in place in the open document.</figcaption>
</figure>

<section data-type="sect2" id="supported-file-types-x8xFz">
<h2>Supported File Types</h2>

<p>The Visual Editor will display the following image file types:&nbsp;png,&nbsp;jpg/jpeg, and gif (both static and animated).</p>

<p>However, not all build outputs support all file types. For example, an animated gif will not render in a PDF. Here's a break-down of what files you should use, depending on your target output:</p>

<dl>
	<dt>
	<p>If you want to build your project to PDF only:</p>
	</dt>
	<dd>
	<p>Use png, jpeg/jpg, static gif files, and svg files</p>
	</dd>
	<dt>
	<p>If you want to build your project to EPUB or MOBI:</p>
	</dt>
	<dd>
	<p>Limit yourself to png, jpeg/jpg, and static gif files</p>
	</dd>
	<dt>
	<p>If you want to build your project to HTML only:</p>
	</dt>
	<dd>
	<p>Use any image file that is supported on the Web</p>
	</dd>
</dl>

<p>We generally recommend using high-resolution images that will work on many devices. For example, a 300 dpi png will look good both in a PDF and on a hi-res iPad.<span style="line-height: 1.5em;">&nbsp;</span></p>
</section>
</section>

<section data-type="sect1" id="crossreferences">
<h1>Cross-References and Internal Links</h1>

<p>A common component of many reference-type projects is <em>cross-references</em>: links from one part of a document to another. These links might point to a section just a few paragraphs away, but could also point to a location in a completely different file.</p>

<p>Atlas has built-in cross-reference support, though it does take a couple steps. To add a cross-reference:</p>

<p>Add an <code>id</code> attribute to the element that you want to be the <em>destination</em> of the link. Place the cursor in the section you want to add an ID to, and click the ID button in the toolbar. In the box that opens, type an <code>id</code> attribute with any name you like (something descriptive and memorable is probably best--and remember not to use spaces in the <code>id</code> name!). The tool will auto-populate with a suggested ID based on the title of the section.</p>

<p>Now go back to the place where you are adding the cross reference. Select the text that you want to turn into a link, and click the cross reference button in the toolbar. In the dialog box that pops up, type the <code>id</code> name that you created in the previous step, as shown in the following figure.</p>

<figure id="id-MQacG"><img alt="Alt Text" class="icontentsimagesaddxrefpng" src="images/addxref.png">
<figcaption>Type the ID of the section you want to create a cross reference to.</figcaption>
</figure>
That's it! You can move files and sections around while you're writing, and Atlas will update the link when you build to make sure it points to the correct file in your project.

<p>Atlas will also automatically generate link text for you. This is great for referencing chapter numbers or section titles that might change. Insert a cross reference into a document without selecting any text, and when you build,&nbsp;Atlas will automatically add the title of the section, or the chapter number, depending on what type of element you are referencing.</p>

<p>For example, if you want to point to a chapter in a sentence like this:</p>

<blockquote>
<p>Learn more about cross references in <em>???</em>.</p>
</blockquote>

<p>Add a cross reference in place of the question marks. Then, when you build, the sentence will look like this:</p>

<blockquote>
<p>Learn more about cross references in Chapter 4.</p>
</blockquote>

<p>If you later add in a new chapter before Chapter 4, the cross reference will automatically update the next time you build:</p>

<blockquote>
<p>Learn more about cross references in Chapter 5.</p>
</blockquote>

<aside data-type="sidebar" id="technical-details-56Bcj">
<h5>Technical Details</h5>

<p>If you're applying <code>id</code>s via the Code Editor, here are a few things to keep in mind:</p>

<ul>
	<li>The Atlas toolchain supports automatic generation of link text for cross references to <code>id</code>s placed only on the following elements: <code>section</code>, <code>div</code>, <code>figure</code>, <code>table</code>, and <code>aside</code>.</li>
	<li>Only apply <code>data-type="xref"</code> to <code>a</code> elements for which you want Atlas to generate link text. Do not use this attribute for cross references with text nodes.</li>
	<li>Empty <code>a</code> elements (e.g., <code>&lt;a data-type="xref" href="#id"&gt; &lt;/a&gt;</code>) or self-closing <code>a</code> elements (<code>&lt;a data-type="xref" href="#id"/&gt;</code>) are not supported in the Visual Editor, so always put some text in your <code>a</code> elements, even if you want Atlas to generate link text.</li>
</ul>

<p>If you create <code>id</code>s and cross references using the Visual Editor, don't worry—Atlas will correctly handle these details for you!</p>
</aside>
</section>

<section data-type="sect1" id="inserting-code-blocks-aL9Fz">
<h1>Inserting Code Blocks</h1>

<p>Adding a code block to a document in Atlas is simple: place the cursor on a new line and click the <img alt="Alt Text" class="iimagescodebuttonpng" src="images/codebutton.png"> button.</p>

<p>The Atlas book-building toolchain supports syntax highlighting via <a class="ulink" href="http://pygments.org/" target="_top">Pygments</a>. This allows your code sections to render in final formats with color coding appropriate for the programming language displayed. To take advantage of syntax highlighting, you must specify the language of the code used within each code block.</p>

<section data-type="sect2" id="setting-the-language-g8Juy">
<h2>Setting the Language</h2>

<p>To set the appropriate language for a code block, hover your mouse over the block and then click on the <code>&lt;/&gt;</code> bubble that appears.</p>

<figure id="id-P0QHP"><img alt="Alt Text" class="iimagesscreenshot1png" src="images/screenshot1.png">
<figcaption>Click on the <code>&lt;/&gt;</code> bubble to open the code language dialogue.</figcaption>
</figure>

<p>Then, type the name of the appropriate language in the box.</p>

<figure id="id-w5NCY"><img alt="Alt Text" class="iimagesprogramming_language_dialoguepng" src="images/programming_language_dialogue.png"></figure>

<div data-type="note" id="id-MeYck"><h6>Note</h6>
<p>Atlas accepts valid Pygments short names in this box. These are case-sensitive and generally lowercase.</p>
</div>

<section data-type="sect3" id="list-of-supported-languages-3M6fd">
<h3>List of Supported Languages</h3>

<p>Atlas supports syntax highlighting for all languages in version 1.6 of the Pygments library. Below is a list of some commonly used programming languages with the appropriate Pygments short name in parentheses. For a full list of available lexers, visit <a href="http://pygments.org/docs/lexers/">the Pygments site</a>.</p>

<ul>
	<li>C (c)</li>
	<li>CSS (css)</li>
	<li>HTML (html)</li>
	<li>Java (java)</li>
	<li>JavaScript (js, javascript)</li>
	<li>Perl (perl, pl)</li>
	<li>PHP (php, php3, php4, php5)</li>
	<li>Python (python, py, sage)</li>
	<li>Ruby (rb, ruby, duby)</li>
	<li>SQL (sql)</li>
	<li>XML (xml)</li>
</ul>
</section>
</section>
</section>

<section data-type="sect1" id="indexwriting">
<h1>Indexing</h1>

<p>Indexing content with Atlas is similar to indexing in Adobe InDesign. Place index markers throughout the text near the relevant content, and a full back-of-the-book index will be created when you build.</p>

<div><iframe allowfullscreen frameborder="0" height="315" src="https://www.youtube.com/embed/2RHN0_Y4BMw" width="560"></iframe></div>

<div data-type="note" id="placing-markers-zjYtx"><h6>Note</h6>
<h1>Placing Markers</h1>

<p>We recommend that index markers not be placed inside code blocks or section headings, because anchors in those elements can cause oddities in the build output. Otherwise, markers should not have any adverse effects, so place them close to the relevant content!</p>
</div>

<p>To insert an index marker, place your cursor and click on the <img alt="Alt Text" class="icontentsimagesindextermpng" src="images/indexterm.png"> button in the toolbar. You'll see a dialogue where you can add primary and secondary terms, specify sort-as labels, etc.</p>

<figure id="id-qyDCy"><img alt="Alt Text" class="iimagesindexmarkerdialoguepng" src="images/indexmarkerdialogue.png">
<figcaption>Insert indexterm dialogue.</figcaption>
</figure>

<p>Click OK, and a bookmark icon will appear in your text. Click on this placeholder icon to edit or remove your indexterm, but don't worry: these icons won't render in your final formats when you build.</p>

<figure id="id-o0Bfe"><img alt="Alt Text" class="iimagesindexmarkerssamplepng" src="images/indexmarkerssample.png">
<figcaption>Index markers in the visual editor.</figcaption>
</figure>

<div data-type="note" id="note-P01hG"><h6>Note</h6>
<h1>Note</h1>

<p>Do not create a new paragraph to add an index marker; doing so will create a blank paragraph space in build outputs.</p>
</div>

<p>Once you've added index markers throughout your project, add an index placeholder tag (<code>&lt;section data-type="index"&gt;&amp;nbsp;&lt;/section&gt;</code>) to your content where you'd like the index to appear in your final build. This tag can either be in its own file or added to the same file as other content, but must be a root tag (read more <a data-type="link" href="#index">here</a>).</p>

<p>Finally, on the Configure tab, check the "Generate Index" checkbox for the formats you want to build, and build! Indexes in EPUB, Mobi, and Web PDF will have clickable links, and PDF versions will display the appropriate page numbers for each term.</p>

<section data-type="sect2" id="ranges-BeecL">
<h2>Ranges</h2>

<p>Indexterm ranges can be inserted by using the "ID" and "Range Startref" fields in the visual editor dialogue:</p>

<ol>
	<li>At the beginning of the range, insert an index tag as usual, and add a unique ID to the ID field.
	<figure id="id-amYH2"><img alt="Alt Text" class="iimagesindexrangestartpng" src="images/indexrangestart.png"></figure>
	</li>
	<li>At the end of the range, enter the same index term and in the "Range Startref" field, enter the ID that you typed in above.
	<figure id="id-A8jcl"><img alt="Alt Text" class="iimagesindexrangeendpng" src="images/indexrangeend.png"></figure>
	</li>
</ol>

<p>Here's what the underlying markup looks like:</p>

<pre data-code-language="html" data-type="programlisting">
&lt;a contenteditable="false" data-primary="Hello World example" data-type="indexterm" id="HWex"&gt;&amp;nbsp;&lt;/a&gt;
</pre>

<pre data-code-language="html" data-type="programlisting">
&lt;a contenteditable="false" data-primary="Hello World example" data-startref="HWex" data-type="indexterm"&gt;&amp;nbsp;&lt;/a&gt;
</pre>
</section>
</section>
</section>
