<section data-type="chapter" id="asciidocref">
<h1>Writing in AsciiDoc</h1>

<p>Atlas supports writing in <a data-original-title="" href="http://www.methods.co.nz/asciidoc/" title="">AsciiDoc</a> in addition to HTMLBook. Files ending in <code>.asc</code> or <code>.asciidoc</code> will be converted to HTMLBook when building. AsciiDoc is a text document format for writing (among other things) books, ebooks, and documentation. It’s similar to wiki markup—if you can write a Wikipedia article, then you’ll have no problem with AsciiDoc. AsciiDoc files in Atlas can be edited using the Code Editor.</p>

<section data-type="sect1" id="asciidoc-markup-reference-qgrF9">
<h1>AsciiDoc Markup Reference</h1>

<p>This section illustrates some of the most common elements used in writing technical documentation. The <a class="ulink " href="http://www.methods.co.nz/asciidoc/userguide.html">AsciiDoc User Guide</a> and the <a class="ulink " href="http://powerman.name/doc/asciidoc">AsciiDoc cheat sheet</a> are other helpful references, but the following sections will give you an overview of the markup you’ll use most frequently, plus some customized markup that is specific to Atlas.</p>

<section data-type="sect2" id="text-QPeig">
<h2>Text</h2>

<p>Regular paragraph text does not need any special markup in AsciiDoc. Just add a blank line both above and below each paragraph, and the first word in the paragraph should not have a space before it. Here are some example paragraphs in AsciiDoc:</p>

<pre data-type="programlisting">
This is an example paragraph written in AsciiDoc. See, it's just plain text; no special markup necessary! Do make sure there aren't spaces or manual indentations at the beginning of your paragraph text.

This is a second example paragraph in AsciiDoc. Note that there's a line break and a blank line between paragraphs.
</pre>

<p>To learn how to add inline markup such as italics to your text see the <a class="xref " href="#INLINES">Inline Markup</a> section.</p>
</section>

<section data-type="sect2" id="chapters-V19Sl">
<h2>Chapters</h2>

<p>The top of each chapter file should begin with a chapter title preceded by two equals signs. It's good practice to always include a unique ID string above the chapter title, surrounded in double brackets, for example:</p>

<pre class="pre " data-type="programlisting">
[[unique_chapter_id]]
== Chapter Title

Chapter text begins here.
</pre>
</section>

<section data-type="sect2" id="headings-qppIE">
<h2>Headings</h2>

<p>There are multiple ways to mark up heading levels in AsciiDoc. We've chosen our favorite "delimited" style to show you below, but feel free to use the <a href="http://www.methods.co.nz/asciidoc/userguide.html#X17">two-line underlined heading style</a> if you prefer.</p>

<div data-type="note" id="note-Xyjim"><h6>Note</h6>
<h1>Note</h1>

<p>The levels described in the <a class="link " href="http://www.methods.co.nz/asciidoc/userguide.html">AsciiDoc User Guide</a> can be confusing: in AsciiDoc, the document (book) is considered level 0; generally a chapter will be at AsciiDoc level 1 (unless you're dividing the book into parts), and sections within chapters start at AsciiDoc level 3 (which is equivalent to HTMLBook <code>section data-type="sect1"</code>).</p>
</div>

<section data-type="sect3" id="top-level-heading-XbyHY">
<h3>Top-level heading</h3>

<p>Within a chapter, the first and highest heading level uses three equals signs:</p>

<pre class="pre " data-type="programlisting">
=== Top-Level Heading</pre>
</section>

<section data-type="sect3" id="second-level-heading-VlYF9">
<h3>Second-level heading</h3>

<p>This heading level should only follow a top-level heading:</p>

<pre class="pre " data-type="programlisting">
==== Second-Level Heading</pre>
</section>

<section data-type="sect3" id="third-level-heading-X2Phm">
<h3>Third-level heading</h3>

<p>This heading level should follow a second-level heading only:</p>

<pre class="pre " data-type="programlisting">
===== Third-level heading</pre>
</section>
</section>

<section data-type="sect2" id="parts-V8nsp">
<h2>Parts</h2>

<p>If you want to group your chapters into parts, navigate to the file that should be the first chapter in that part, and add the part markup above the chapter title. It’s good practice to always include a unique ID string above the part title, like so:</p>

<pre data-type="programlisting">
[[unique_part_id]]
= Part Title

[[unique_chapter_id]]
== Chapter Title

Chapter text begins here.
</pre>

<p>To add introductory text to a part, add this <code>partintro</code> markup after the part title, but before the chapter title:</p>

<pre data-type="programlisting">
[[unique_part_id]]
= Part Title

[partintro]
--
Insert introductory text here.
--

[[unique_chapter_id]]
== Chapter Title

Chapter text begins here.</pre>
</section>

<section data-type="sect2" id="prefaces-jaDI0">
<h2>Prefaces</h2>

<p>A preface file should begin with the word <em>preface</em> in single brackets, followed on the next line by two equals signs and the preface title:</p>

<pre data-type="programlisting">
[preface]
== Preface Title

Preface text begins here.</pre>
</section>

<section data-type="sect2" id="forewords-kPzt3">
<h2>Forewords</h2>

<p>Forewords are treated as prefaces, except they have a title of <em>Foreword</em>. For example:</p>

<pre class="pre " data-type="programlisting">
[preface]
== Foreword

Foreword text begins here.</pre>
</section>

<section data-type="sect2" id="afterwords-mGySy">
<h2>Afterwords</h2>

<p>The markup for an Afterword is similar to the preface markup, but it has an additional role attribute with a value of "afterword". Here's the markup:</p>

<pre class="pre " data-type="programlisting">
[preface]
[role="afterword"]
== Afterword

Afterword text begins here.</pre>
</section>

<section data-type="sect2" id="add_dedication">
<h2>Dedications</h2>

<p>A dedication file should begin with the word <em>dedication</em> in single brackets, followed by a blank line and then the dedication title and text. The title must be present, but it will not render in the output:</p>

<pre class="pre " data-type="programlisting">
[dedication]
== Dedication

This book is dedicated to my cat, Garfield.</pre>

<p>Dedication pages render on their own page at the beginning of the book, before the table of contents.</p>
</section>

<section data-type="sect2" id="praise_markup">
<h2>Praise Pages</h2>

<p>Praise pages are marked up similarly to <a data-type="xref" href="#add_dedication">#add_dedication</a>, but you will add a special <code>role="praise"</code> attribute. For each item of praise, use the quote markup (discussed in <a class="xref " data-type="xref" href="#add_quotes">#add_quotes</a>):</p>

<pre data-type="programlisting">
["dedication", role="praise"]
== Praise for Getting Started with Atlas

[quote, Jane Doe]
____
"This book is awesome."
____</pre>

<p>Praise pages render at the beginning of the book, before the title page, and are not included in the regular page numbering of the book.</p>
</section>

<section data-type="sect2" id="add_glossary">
<h2>Glossaries</h2>

<p>A glossary file should begin with the word <em>glossary</em> in double brackets, followed by the glossary title and a blank line. Following the blank line should be another instance of the word <em>glossary</em>, this time in single brackets.</p>

<p>Each glossary entry should consist of one glossary term, followed by two colons and a space, then the glossary definition. If you’d like to add an additional paragraph to a glossary definition, add a plus sign ("+") on the following line by itself, and begin the additional paragraph on the line after it.</p>

<p>Here’s an example of the markup:</p>

<pre data-type="programlisting">
[[glossary]]
== Glossary

[glossary]
Crawler:: A program used to index documents.
+
See Also Spider</pre>
</section>

<section data-type="sect2" id="add_appendix">
<h2>Appendixes</h2>

<p>To designate a file as an appendix, simply add the word <em>appendix</em> in single brackets at the top of the file. Immediately below it should be the title of the Appendix. For example:</p>

<pre data-type="programlisting">
[appendix]
== Resources

The following list of resources ...</pre>
</section>

<section data-type="sect2" id="_chapter_contributors">
<h2>Chapter Contributors</h2>

<p>For books with multiple contributors, you may want an author name to appear with each chapter. Simply add the following markup above each chapter title:</p>

<pre data-type="programlisting">
[au="Author Name"]
== Chapter Title</pre>

<p>For multiple authors of one chapter, the markup looks like this:</p>

<pre data-type="programlisting">
[au="Author Name", au2="Another Author", au3="Last Author"]
== Chapter Title</pre>

<p>You can also use this same markup for forewords, prefaces, and appendixes. Please note that contributor names in a foreword will render at the end of the foreword, right-aligned, and preceded by an em dash. Foreword author attributions can also include an affiliation. The markup looks like this:</p>

<pre data-type="programlisting">
[au="Author Name", auaffil="Editor, Such and Such Journal"]</pre>
</section>

<section data-type="sect2" id="INLINES">
<h2>Inline Markup</h2>

<p>Here are some standard typographical conventions with explanations of how they're commonly used:</p>

<dl xmlns="http://www.w3.org/1999/xhtml">
	<dt>_Italic_</dt>
	<dd>
	<p>Italic text indicates new terms, URLs, email addresses, filenames, and file extensions. The AsciiDoc markup is one underscore character on either side of the text to be italic.</p>

	<p>To mark a a few letters of a word in italics, or a word that abuts a non-whitespace character, double up the underscore characters on either side of the text, like this: <code>__Part__ial word i__tal__ic</code></p>
	</dd>
	<dt><strong>*Bold*</strong></dt>
	<dd>
	<p>Bolded text is used to emphasize a word or phrase. The AsciiDoc markup is one asterisk on either side of the text to be bolded.</p>

	<div data-type="warning" id="oreilly-authors-WY1um"><h6>Warning</h6>
	<h1>O'Reilly Authors</h1>

	<p>Please note that <a href="http://oreilly.com/oreilly/author/stylesheet.html">O'Reilly house style</a> prefers italics for emphasis.</p>
	</div>

	<p>To mark a partial word in bold, or a word that abuts a non-whitespace character, double up the asterisk characters on either side of the text, like this: <code>**Part**ial word b**ol**d</code></p>
	</dd>
	<dt><code>+Constant Width+</code></dt>
	<dd>
	<p>Constant width, or monospaced, text is used for code, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords. The AsciiDoc markup is one plus sign on either side of the text to monospaced.</p>

	<p>To mark a partial word in constant width, or a word that abuts a non-whitespace character, double up the plus signs on either side of the text, like this: <code>++Part++ial word con++st++ant wid++th++</code></p>
	</dd>
	<dt><strong><code>*+Constant Width Bold+*</code> </strong></dt>
	<dd>
	<p>Monospaced and bolded text is used to show commands or other text that should be typed literally by the user. The AsciiDoc markup is one asterisk and one plus sign on either side of the text. Note that the asterisk (*) pair should be on the outside and the plus-symbol (+) pair on the inside.</p>

	<p>To mark a partial word in constant width bold, or a word that abuts a non-whitespace character, double up the markup on either side of the text, like this: <code>**++Part++**ial word constant w**++id++**th bold</code></p>
	</dd>
	<dt><em><code>_++Constant Width Italic++_</code> </em></dt>
	<dd>
	<p>Monospaced and italicized text indicates where text should be replaced with user-supplied values or by values determined by context. The AsciiDoc markup is one underscore and two plus signs on either side of the text. Note that the underscore (_) must be on the outside and the plus-symbol (+) pair on the inside.</p>

	<p>To mark a partial word in constant width italic, or a word that abuts a non-whitespace character, double up the underscore markup on either side of the text, like this: <code>__++Part++__ial word con__++st++__ant width ital__++ic++__</code></p>
	</dd>
	<dt><sub>~subscript~</sub></dt>
	<dd>
	<p>For <sub>subscript</sub> text, use a tilde character (~) on either side of the subscript text.</p>
	</dd>
	<dt><sup>^superscript^</sup></dt>
	<dd>
	<p>For <sup>superscript</sup> text, use a caret (^) character on either side of the superscript text.</p>
	</dd>
	<dt>Hyperlinks</dt>
	<dd>
	<p>For hyperlinks to external sources, just add the full URL string followed by brackets containing the text you'd like to appear with the URL. The bracketed text will become a clickable link in web versions. In print versions, it will appear in the text, followed by the actual URL in parenthesis.</p>

	<p>The markup looks like this:</p>

	<pre data-type="programlisting">
Visit the http://oreilly.com[O'Reilly website]</pre>

	<p>Note that these will become hyperlinks in online versions, so for fake or example URLs, use <code>+constant width+</code> or <em>_italic_</em> markup instead.</p>
	</dd>
</dl>

<aside data-type="sidebar" id="challenging_inlines">
<h5>Troubleshooting Inline Markup</h5>

<p>Using inlines in AsciiDoc can sometimes be tricky. If you’re having problems with inline markup not rendering correctly, or if it’s producing validation errors, check if it’s an issue with nested inlines. Attempting to nest inlines within each other may sometimes result in problems if the markup is done in the wrong order. For example, constant width bold text uses an asterisk and a plus sign on either side of the text, but the asterisk pair must be on the outside of the plus sign pair, otherwise you’ll get an error.</p>

<p>Another common issue is when inline markup occurs within a single word, like foobar, or if the inline markup abuts some other non-whitespace character on one or more sides (like an em dash), it may render incorrectly like this: foo\+bar. The fix for this is to double up the markup. For example: <code>foo</code>bar. See <a class="xref " data-type="xref" href="#INLINES">#INLINES</a>.</p>

<p>When all else fails, you can always use passthroughs to embed HTML markup as is (see <a data-type="xref" href="#passthroughs">#passthroughs</a>). For example, these example passthroughs are rendered as constant-width italic, constant-width bold, and constant-width bold italic, respectively.:</p>

<pre data-type="programlisting">
pass:[&lt;em xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;code&gt;foo&lt;/code&gt;&lt;/em&gt;]
pass:[&lt;strong xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;code&gt;foo&lt;/code&gt;&lt;/strong&gt;]
pass:[&lt;strong xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;code&gt;  &lt;em&gt;    &lt;code&gt;foo&lt;/code&gt;  &lt;/em&gt;&lt;/code&gt;&lt;/strong&gt;]</pre>

<p>As an enhancement for finer-tuned semantic distinctions downstream, the Atlas configuration file supports the following variants, via <code>@role</code> attributes:</p>

<ul>
	<li>
	<p>To indicate a filename or path, use: <code>[role="filename"]_/path/to/file.ext_</code></p>
	</li>
	<li>
	<p>For a book title, use: <code>[role="citetitle"]_This Book Needs No Title_</code></p>
	</li>
</ul>

<p>Curly brackets, <code>\{</code> and <code>\}</code>, may cause rendering problems because they indicate macros in AsciiDoc. If you are having trouble getting curly brackets to render, try escaping them with backslashes like this: <code>\\{</code> and <code>\\}</code></p>
</aside>
</section>

<section data-type="sect2" id="SIDEBARS">
<h2>Sidebars</h2>

<p>Sidebar markup looks like this:</p>

<pre class="pre " data-type="programlisting">
.Sidebar Title
****
Sidebar text is surrounded by four asterisk characters above and below.
****</pre>

<p>Sidebars render like this:</p>

<aside data-type="sidebar" id="sidebar-title-8yvFB">
<h5>Sidebar Title</h5>

<p>Sidebar text is surrounded by four asterisk characters above and below.</p>
</aside>
</section>

<section data-type="sect2" id="Admonitions">
<h2>Notes, Tips, Warnings, and Cautions</h2>

<p>You have the option of using note, tip, warning, and caution elements for supplemental information.</p>

<p>You may also notice that some of the admonitions below have a title. We do support optional titles in admonitions. If you don’t want a title for your note, tip, warning, or caution, just leave out the entire <em>.Tip Title</em> line in the markup below.</p>

<p>The markup for a note looks like this:</p>

<pre data-type="programlisting">
[NOTE]
====
Here's some text inside a note.
====</pre>

<p>And here’s how it renders:</p>

<div data-type="note" id="id-Lk4SR"><h6>Note</h6>
<p>Here’s some text inside a note.</p>
</div>

<p>You’d create a tip with a title like so:</p>

<pre data-type="programlisting">
.Tip Title
[TIP]
====
Here's some text inside a tip.
====</pre>

<p>…which will yield this result:</p>

<div data-type="tip" id="titled-tip-Wp1Sm"><h6>Tip</h6>
<h1>Titled Tip</h1>

<p>Here’s some text inside a tip.</p>
</div>

<p>Or you could use a warning:</p>

<pre data-type="programlisting">
.Warning Title
[WARNING]
====
Here's some text inside a warning.
====</pre>

<div data-type="warning" id="warning-title-b4lFa"><h6>Warning</h6>
<h1>Warning Title</h1>

<p>This is how warnings render. Warnings can be used for including supplemental information in your text. Including a warning title is optional.</p>
</div>

<p>Finally, here’s a caution:</p>

<pre data-type="programlisting">
[CAUTION]
====
Here's some text inside a caution.
====</pre>

<div data-type="caution" id="id-Kj3fr"><h6>Caution</h6>
<p>This is how cautions render. Cautions can be used for including supplemental information in your text.</p>
</div>
</section>

<section data-type="sect2" id="adding_footnotes">
<h2>Footnotes</h2>

<p>To create a footnote, place the footnote macro directly after the text where the note number should appear, with no space between.<span class="footnote " data-type="footnote">Otherwise you’ll introduce extra space in the text</span> The content of the footnote should appear within the brackets. Footnotes at the end of a sentence belong after the period:</p>

<pre class="pre " data-type="programlisting">
footnote:[This is a standard footnote.]</pre>

<p>Here’s an example of the markup placement in the text:</p>

<pre class="pre " data-type="programlisting">
There should be no spacefootnote:[This is a standard footnote.] between the text and the note number.</pre>

<p>For an example of the footnote rendering, see the first paragraph in this section. You should see the content of the note rendering at the bottom of the page.</p>
</section>

<section data-type="sect2" id="add_quotes">
<h2>Quotes</h2>

<p>To add a block quote to your text, use the word <code>quote</code> inside single brackets, followed by a comma and the full name of the quote’s author. The text of the quote itself should appear immediately below, with four underscore characters above and below it.</p>

<p>Here’s some example markup, a <code>&lt;quote&gt;</code> attributed to Benjamin Disraeli (by Wilfred Meynell, according to Frank Muir):</p>

<pre>
[quote, Wilfred Meynell]
____
Many thanks; I shall lose no time in reading it.
____</pre>

<p>And here’s how it renders:</p>

<blockquote data-type="epigraph">
<p>Many thanks; I shall lose no time in reading it.</p>

<p data-type="attribution">— Wilfred Meynell</p>
</blockquote>
</section>

<section data-type="sect2" id="figures_and_other_images">
<h2>Figures and Other Images</h2>

<p>Full figure markup should include a unique ID attribute, so the figure can be cross-referenced (see <a class="xref " data-type="xref" href="#XREFS">#XREFS</a> for more info on using cross-references). Please note the figure IDs should be unique throughout the book. Non-captioned figures don’t have ID attributes or figure numbers and are not cross-referenced.</p>

<p>Create a figure with a caption like so:</p>

<pre class="pre " data-type="programlisting">
[[unique_id]]
.A Figure
image::images/tiger.png["An image of a cartoonish tiger head"]</pre>

<p>And here’s how it renders:</p>

<figure id="unique_id"><img alt="An image of a cartoonish tiger head" src="images/tiger.png">
<figcaption>An example figure</figcaption>
</figure>

<p>If you’d like your figure to appear without a caption, just omit the <code>.title</code> line. Please keep in mind that in addition to having no title, these figures will also have no figure number and cannot be cross-referenced in the body of the text.</p>

<p>Here’s the markup:</p>

<pre class="pre " data-type="programlisting">
image::images/screenshot.png["Screenshot of the AsciiDoc website."]</pre>

<p>And here’s how it renders:</p>

<figure id="id-RZlT5"><img alt="Screenshot of the AsciiDoc website." src="images/screenshot.png"></figure>

<section data-type="sect3" id="adding_alt_text_to_images">
<h3>Adding alt text to images</h3>

<p>To improve accessibility in your ebook files, please consider adding alt-text to the images. To do this, just add the descriptive text in quotes inside the brackets, which are at the end of the image markup:</p>

<pre data-type="programlisting">
[[unique_id]]
.A Figure
image::images/tiger.png["An image of a cartoonish tiger head"]</pre>

<p>Please note, to combine the alt-text attribute with a <code>float="true"</code> attribute, use the following markup:</p>

<pre data-type="programlisting">
[[unique_id]]
.A Figure
[float="true"]
image::images/tiger.png["An image of a cartoonish tiger head"]</pre>
</section>

<section data-type="sect3" id="using_asciidoc_to_size_images">
<h3>Adjust image size</h3>

<p>While it should not be necessary in most circumstances, you can control the size of an image in the PDF output by adding an absolute value of width or height, like so:</p>

<pre data-type="programlisting">
image::images/filename.png[width="2in"]

image::images/filename.png[height="2in"]</pre>

<p>Or you can use scale as a percentage to limit the width:</p>

<pre data-type="programlisting">
image::images/filename.png[scale="75"]</pre>

<p>Note that you should not include a percentage sign.</p>
</section>
</section>

<section data-type="sect2" id="Lists">
<h2>Lists</h2>

<p>There are three common types of lists; below are the markup and an example of each.</p>

<div data-type="note" id="id-4z7Fo"><h6>Note</h6>
<p>If you're an O'Reilly author, the <a href="http://oreilly.com/oreilly/author/stylesheet.html#lists">O’Reilly Stylesheet and Word List</a> has more details about when to use which type of list.</p>
</div>

<section data-type="sect3" id="Bulleted">
<h3>Bulleted (aka itemized) lists</h3>

<p>Here’s the markup for a bulleted list:</p>

<pre data-type="programlisting">
* lions
* tigers
** sabre-toothed
** teapotted
* lions, tigers, and bears
+
Use a plus sign (on its own line) with the text below to add multiple paragraphs to a list item.</pre>

<p>The list renders as you’d expect:</p>

<ul>
	<li>
	<p>lions</p>
	</li>
	<li>
	<p>tigers</p>

	<ul>
		<li>
		<p>sabre-toothed</p>
		</li>
		<li>
		<p>teapotted</p>
		</li>
	</ul>
	</li>
	<li>
	<p>lions, tigers, and bears</p>

	<p>Use a plus sign (on its own line) with the text below to add multiple paragraphs to a list item.</p>
	</li>
</ul>

<p>Note that the final item in the list has multiple paragraphs. As you can see in the markup example, a plus (+) character can be used to add additional paragraphs to a list item.</p>
</section>

<section data-type="sect3" id="Ordered">
<h3>Ordered (aka numbered) lists</h3>

<p>Here’s the markup for a numbered list:</p>

<pre data-type="programlisting">
. Preparation
. Assembly
.. Measure
.. Combine
.. Bake
. Applause
+
Use a plus sign (on its own line) with the text below to add multiple paragraphs to a list item.</pre>

<p>Using the above markup will generate a numbered list:</p>

<ol>
	<li>
	<p>Preparation</p>
	</li>
	<li>
	<p>Assembly</p>

	<ol>
		<li>
		<p>Measure</p>
		</li>
		<li>
		<p>Combine</p>
		</li>
		<li>
		<p>Bake</p>
		</li>
	</ol>
	</li>
	<li>
	<p>Applause</p>

	<p>Use a plus sign (on its own line) with the text below to add multiple paragraphs to a list item.</p>
	</li>
</ol>

<p>Note that the final item in the list has multiple paragraphs. As you can see in the markup example, a plus (+) character can be used to add additional paragraphs to a list item.</p>
</section>

<section data-type="sect3" id="Labeled">
<h3>Labeled (aka variable or term-definition) lists</h3>

<p>Here’s the markup for a labeled list:</p>

<pre class="pre " data-type="programlisting">
Term 1::
  Definition/description
Term 2::
  Something else</pre>

<p>Labeled lists look like this:</p>

<dl>
	<dt>Term 1</dt>
	<dd>
	<p>Definition/description</p>
	</dd>
	<dt>Term 2</dt>
	<dd>
	<p>Something else</p>
	</dd>
</dl>
</section>
</section>

<section data-type="sect2" id="tables_desc">
<h2>Tables</h2>

<p>Atlas table styles vary slightly between series. If your material warrants something other than the default style as shown in <a data-type="xref" href="#STD_TABLE">#STD_TABLE</a>, please consult with your editor.</p>

<p>Standard AsciiDoc markup for a simple table follows:</p>

<pre class="pre ">
.A Table
[options="header"]
|=======
|P|Q|P^Q
|T|T|T
|T|F|F
|F|T|F
|F|F|F
|=======</pre>

<div data-type="note" id="id-yG6cm"><h6>Note</h6>
<p>Note that a single vertical bar (|)+ character is used to separate each box in the table. If you’re having a problem with your table columns rendering oddly, make you have that you have the same number of vertical bars for each row.</p>
</div>

<p>The table will render with a title and a header row:</p>

<table id="STD_TABLE" style="width: 50%">
	<caption>An example table</caption>
	<thead>
		<tr>
			<th>P</th>
			<th>Q</th>
			<th>P^Q</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<p>T</p>
			</td>
			<td>
			<p>T</p>
			</td>
			<td>
			<p>T</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>T</p>
			</td>
			<td>
			<p>F</p>
			</td>
			<td>
			<p>F</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>F</p>
			</td>
			<td>
			<p>T</p>
			</td>
			<td>
			<p>F</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>F</p>
			</td>
			<td>
			<p>F</p>
			</td>
			<td>
			<p>F</p>
			</td>
		</tr>
	</tbody>
</table>
</section>

<section data-type="sect2" id="code_explanation">
<h2>Code</h2>

<p>Code blocks (or as the <a class="link" href="http://www.methods.co.nz/asciidoc/userguide.html">AsciiDoc documentation</a> refers to them, “listing” blocks), are defined using four hyphens above and below the code block content:</p>

<pre>
----
Hello world!

0        10        20        30        40
1234567890123456789012345678901234567890
----</pre>

<p>Which will render like this:</p>

<pre data-type="programlisting">
Hello world!

0        10        20        30        40
1234567890123456789012345678901234567890</pre>

<section data-type="sect3" id="_formal_code_blocks_titled_and_cross_referenced">
<h3>Formal code blocks (titled and cross-referenced)</h3>

<p>If you’d like the code block to have a title and be able to cross-reference it, you should use the formal code block markup. As you can see below, you’ll need to additionally surround the code block with four equals signs, a title, and an ID in double brackets:</p>

<pre>
[[EX1]]
.A code block with a title
====
----
Hello world!

0        10        20        30        40
1234567890123456789012345678901234567890
----
====</pre>

<p>The results:</p>

<div data-type="example" id="EX1">
<h5>A code block with a title</h5>

<pre data-type="programlisting">
Hello world!

0        10        20        30        40
1234567890123456789012345678901234567890</pre>
</div>
</section>

<section data-type="sect3" id="inline-formatting">
<h4>Inline formatting within code</h4>

<p>If you want to use inline formatting in code—in particular, for typographical conventions such as bold or italic,&nbsp;you can do so by using a passthrough block (see <a data-type="xref" href="#passthroughs">#passthroughs</a> for an explanation of passthroughs). Here’s the markup to use a passthrough with the HTML element <code>&lt;pre&gt;</code>:</p>

<pre>
++++
&lt;pre&gt;hostname $ &lt;strong&gt;date&lt;/strong&gt;
Sun Apr  1 12:34:56 GMT 1984&lt;/pre&gt;
++++</pre>

<p>which renders like this:</p>

<pre data-type="programlisting" xmlns="http://www.w3.org/1999/xhtml">
hostname $ <strong><code>date</code></strong>
Sun Apr  1 12:34:56 GMT 1984</pre>

<aside data-type="sidebar" id="angle-brackets-in-passthrough-code-D0Dfj">
<h5>Angle Brackets in Passthrough Code</h5>

<p>If you need to display angle brackets in code that is in a passthrough, make sure to use the entities <code>&amp;lt;</code> (for &lt;) and <code>&amp;gt;</code> (for &gt;) instead of the characters, or you may run into build errors. For example:</p>

<pre>
++++
&lt;pre&gt;&amp;lt;!DOCTYPE HTML&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;title&amp;gt;Title of the document&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;
The content of the document...
&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;&lt;/pre&gt;
++++</pre>

<p>will render like this:</p>

<pre data-type="programlisting" xmlns="http://www.w3.org/1999/xhtml">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Title of the document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
The content of the document...
&lt;/body&gt;

&lt;/html&gt;</pre>
</aside>
</section>

<section data-type="sect3" id="syntax_highlighting">
<h3>Syntax highlighting</h3>

<p>The Atlas book-building toolchain supports syntax highlighting via <a class="link " href="http://pygments.org/">Pygments</a>. You need only add <code>[source]</code> above each code block that should include syntax highlighting, and specify the language of the code. For example:</p>

<pre>
[source,java]
----
int radius = 40;
float x = 110;
float speed = 0.5;
int direction = 1;
----</pre>

<p>This will render in the EPUB, PDF, and KF8 (Kindle Fire only) as follows:</p>

<pre data-code-language="java" data-type="programlisting">
int radius = 40;
float x = 110;
float speed = 0.5;
int direction = 1;</pre>

<p>Here is the markup if you want to add syntax highlighting to a formal code block—note the placement of <code>[source]</code> is the same:</p>

<pre>
[[id_here]]
.Syntax highlighting sample
====
[source,java]
----
int radius = 40;
float x = 110;
float speed = 0.5;
int direction = 1;
----
====</pre>

<p>Pygments supports a wide variety of languages that can be used in <code>[source]</code>; see the full list available on the <a href="http://pygments.org/docs/lexers/">the Pygments website</a>. Ebook readers that do not have color screens will still display the highlighting, but in more subtle shades of gray.</p>

<div data-type="note" id="note-W7Wtm"><h6>Note</h6>
<h1>Note</h1>

<p>The color scheme is consistent across books and cannot be changed at this time.</p>
</div>
</section>

<section data-type="sect3" id="_code_line_length">
<h3>Code line length</h3>

<p>The allowed number of characters per line of code varies depending on the book series and where the code is positioned in the markup. The following table lists some common cases.</p>

<div data-type="note" id="id-0r5f3"><h6>Note</h6>
<p>Please keep in mind that these are just the maximum characters allowed. You should review your PDFs and make your own judgments about the best way to present code to the reader.</p>
</div>

<table>
	<thead>
		<tr>
			<th>Series</th>
			<th>Body (top-level code)</th>
			<th>Examples</th>
			<th>Lists</th>
			<th>Sidebars/notes/warnings</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<p>Animal or Cookbook</p>
			</td>
			<td>
			<p>85</p>
			</td>
			<td>
			<p>90</p>
			</td>
			<td>
			<p>80</p>
			</td>
			<td>
			<p>80</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>Small Animal (6x9)</p>
			</td>
			<td>
			<p>76</p>
			</td>
			<td>
			<p>80</p>
			</td>
			<td>
			<p>72</p>
			</td>
			<td>
			<p>70</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>Theory in Practice</p>
			</td>
			<td>
			<p>85</p>
			</td>
			<td>
			<p>90</p>
			</td>
			<td>
			<p>80</p>
			</td>
			<td>
			<p>72</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>Nutshell</p>
			</td>
			<td>
			<p>76</p>
			</td>
			<td>
			<p>80</p>
			</td>
			<td>
			<p>72</p>
			</td>
			<td>
			<p>66</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>Pocket Reference</p>
			</td>
			<td>
			<p>58</p>
			</td>
			<td>
			<p>62</p>
			</td>
			<td>
			<p>53</p>
			</td>
			<td>
			<p>48</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>Hacks</p>
			</td>
			<td>
			<p>76</p>
			</td>
			<td>
			<p>80</p>
			</td>
			<td>
			<p>72</p>
			</td>
			<td>
			<p>70</p>
			</td>
		</tr>
	</tbody>
</table>

<p>Please rebreak any code lines that exceed the max number of characters; otherwise, the code will run into the margin in your PDFs, which is unacceptable for print. It’s best to fix long code lines in the manuscript stage, while you still have access to the source. Making such edits during production is much more cumbersome for everyone involved.</p>
</section>

<section data-type="sect3" id="external_code_files">
<h3>External code files</h3>

<p>There are two ways to include external code files. You can include an external file that is text-only (no markup like line annotations or inline formatting), or you can include an external file marked up with valid XHTML, which can contain inline markup. Callouts will work with either method.</p>

<p>To include an external code file that is text-only (no inline markup besides callouts), use the <code>include::</code> macro inside of a delimited code block, as shown here:</p>

<pre>
[source,java]
----
include::code/HelloWorld.java[]
----</pre>

<p>For info about using callouts with your external AsciiDoc code file, see <a data-type="xref" href="#code_callouts">#code_callouts</a>.</p>

<p>To include an external file that contains inline markup (e.g., line annotations or inline font formatting), use passthrough markup around around the <code>include::</code> macro, instead of code block delimiters:</p>

<pre>
++++
include::code/inline_markup.html[]
++++</pre>

<p>In the above case, the contents of <em>inline_markup.html</em>&nbsp;would contain only the HTML markup. In our example, which might look something like this:</p>

<pre>
&lt;pre&gt;Roses are &lt;em&gt;red&lt;/em&gt;,
   Violets are &lt;em&gt;blue&lt;/em&gt;.
Some poems rhyme;
   This one &lt;strong&gt;doesn't&lt;/strong&gt;.&lt;/pre&gt;</pre>

<p>The results will look like this:</p>

<pre data-type="programlisting" xmlns="http://www.w3.org/1999/xhtml">
Roses are <em><code>red</code></em>,
   Violets are <em><code>blue</code></em>.
Some poems rhyme;
   This one <strong><code>doesn't</code></strong>.
</pre>
</section>

<section data-type="sect3" id="code_callouts">
<h3>Code callouts</h3>

<p><a class="link" href="http://www.sagehill.net/docbookxsl/AnnotateListing.html#Callouts">Code callouts</a> are used to mark specific lines of code with icons keyed to explanatory text outside the code block. These icon pairs function as bidirectional links in electronic PDF and downstream formats (i.e., you can click on the icon in the code to jump to the explanation, and vice versa).<span class="footnote " data-type="footnote">The built-in AsciiDoc mechanism is somewhat more limited in that icons are hyperlinked from text to code, but not vice versa. If two-way linking is important to you, consider using a passthrough block (see <a data-type="xref" href="#passthroughs">#passthroughs</a>).</span></p>

<p>Here’s the AsciiDoc markup for code callouts:</p>

<pre>
----
Roses are red,
   Violets are blue. &lt;1&gt;
Some poems rhyme;
   This one doesn't. &lt;2&gt;
----
&lt;1&gt; Violets actually have a color value of +#9933cc+.
&lt;2&gt; This poem uses the literary device known as a "surprise ending."</pre>

<p>The output will include callouts numbers in the code, followed by a numbered list, as shown here:</p>

<pre data-type="programlisting" xmlns="http://www.w3.org/1999/xhtml">
Roses are red,
   Violets are blue. <a class="co" href="#callout_poemco1" id="co_poemco1"><img alt="1" src="callouts/1.png"></a>
Some poems rhyme;
   This one doesn't. <a class="co" href="#callout_poemco2" id="co_poemco2"><img alt="2" src="callouts/2.png"></a></pre>

<p>To use code callouts with an external AsciiDoc code file, add the callout text items below the code block, like so:</p>

<pre>
[source,java]
----
include::code/HelloWorld.java[]
----
&lt;1&gt; This is number one.
&lt;2&gt; This is number two.</pre>
</section>
</section>

<section data-type="sect2" id="XREFS">
<h2>Cross-References</h2>

<p>All references to titled block elements and book components—figures, tables, examples, sections, chapters, parts, and so on—should be marked up as cross-references, not entered as plain text. Cross-reference markup will become a live hyperlink to the target in digital versions and will resolve automatically if you move numbered elements (figures, chapters, etc.) around while editing.</p>

<p>To insert a cross-reference, follow these steps:</p>

<ol xmlns="http://www.w3.org/1999/xhtml">
	<li>
	<p>Note the id of the element you are referencing. If the element does not have an id, you will need to add one. For the book to be valid, ids must be unique across the entire book, have no spaces, and not start with a number. For example, a figure id looks like this:</p>

	<pre data-type="programlisting">
[[unique_id]]
.Figure title
image::images/figure.png[]</pre>
	</li>
	<li>
	<p>Once you have the id, you can insert a cross-reference to that element elsewhere in the text by enclosing the id in double angle brackets, like so:</p>

	<pre class="pre " data-type="programlisting">
&lt;&lt;unique_id&gt;&gt;</pre>
	</li>
</ol>

<p>The Atlas build system will transform this ID into a standard cross-reference (or <code>&lt;xref&gt;</code>) for you: the rendered text will adjust automatically if you later move the target or reword its title, and it will work as a hyperlink in digital versions.</p>

<p>The following table shows the standard text generated from the cross-references in PDF builds.</p>

<table id="XREF_TABLE" style="width: 50%">
	<caption>Standard cross-reference formats</caption>
	<thead>
		<tr>
			<th>Target</th>
			<th>Generated Cross-Reference Text</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<p>chapter</p>
			</td>
			<td>
			<p>Chapter 17</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>table</p>
			</td>
			<td>
			<p>Table 4-1</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>figure</p>
			</td>
			<td>
			<p>Figure 2-3</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>example</p>
			</td>
			<td>
			<p>Example 3-5</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>sidebar</p>
			</td>
			<td>
			<p>"Fooing the Bar" on page 23</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>section</p>
			</td>
			<td>
			<p>"Inline Macros" on page 14</p>
			</td>
		</tr>
	</tbody>
</table>

<p>Here are some live examples (hover over the text in the PDF to locate the hyperlink):</p>

<ul>
	<li>
	<p>See <a class="xref " data-type="xref" href="#indexing">#indexing</a> for details.</p>
	</li>
	<li>
	<p>The results is shown in <a class="xref " data-type="xref" href="#unique_id">#unique_id</a>.</p>
	</li>
</ul>

<p>which were generated from this source:</p>

<pre class="pre  " data-type="programlisting">
* See &lt;&lt;indexing&gt;&gt; for details.
* The results is shown in &lt;&lt;unique_id&gt;&gt;.
</pre>
</section>

<section data-type="sect2" id="passthroughs">
<h2>Passthroughs</h2>

<p>This section makes several references to “passthroughs.” You can use an HTML passthrough when you’ve got an especially complex piece of markup or you’re trying to do something that AsciiDoc doesn’t support. AsciiDoc supports two types of passthroughs:</p>

<dl>
	<dt>Inline passthroughs</dt>
	<dd>
	<p>For inlines, you can indicate a passthrough at any time by adding this passthrough markup within the text paragraph:</p>

	<pre>
pass:[inline HTML markup here]</pre>

	<p>See <a data-type="xref" href="#challenging_inlines">#challenging_inlines</a> for examples of inline passthroughs.</p>
	</dd>
	<dt>Block passthroughs</dt>
	<dd>
	<p>You can also pass though a block of HTML by adding 4 plus signs above and below the HTML. Here’s the image markup that we used above, passed through as HTML:</p>

	<pre>
++++
&lt;figure id="unique_id" float="none"&gt;
&lt;figcaption&gt;A Figure&lt;/figcaption&gt;
&lt;img src="images/tiger.png"/&gt;
&lt;/figure&gt;
++++</pre>
	</dd>
</dl>
</section>

<section data-type="sect2" id="_math_support_via_latex">
<h2>Math Support via LaTeX</h2>

<p>Atlas supports math equations set as LaTeX. For inline LaTeX equations, use the <code>latexmath:</code> macro as follows:</p>

<pre class="pre  " data-type="programlisting">
The Pythagorean Theorem is latexmath:[\(a^2 + b^2 = c^2\)].</pre>

<p>yielding this result:</p>

<p>The Pythagorean Theorem is&nbsp;<span class="math-tex" data-type="tex">\(a^2 + b^2 = c^2\)</span> .</p>

<p>For block TeX equations, use a <code>latexmath</code> passthrough as follows:</p>

<pre data-type="programlisting">
[latexmath]
++++
\begin{equation}
{x = \frac{{ - b \pm \sqrt {b^2 - 4ac} }}{{2a}}}
\end{equation}

++++</pre>

<p>And the results:</p>

<p><span class="math-tex" data-type="tex">\(x = {-b \pm \sqrt{b^2-4ac} \over 2a}\)</span></p>

<p>You could also add a title. Use this:</p>

<pre data-type="programlisting">
[latexmath]
.The quadratic formula
++++
\begin{equation}
{x = \frac{{ - b \pm \sqrt {b^2 - 4ac} }}{{2a}}}
\end{equation}

++++</pre>

<p>And get:</p>

<div data-type="equation" id="the-quadratic-formula-yNaCm">
<h5>The quadratic formula</h5>

<p><span class="math-tex" data-type="tex">\(x = {-b \pm \sqrt{b^2-4ac} \over 2a}\)</span></p>
</div>
</section>

<section data-type="sect2" id="controlling_line_breaks">
<h2>Controlling Line Breaks</h2>

<p>Use an inline passthrough to prevent a line break:</p>

<pre data-type="programlisting">
pass:[&lt;span class="keep-together"&gt;Don'tBreakMe&lt;/span&gt;]</pre>

<div data-type="warning" id="id-myos3"><h6>Warning</h6>
<p>Please do not use AsciiDoc’s mechanisms for forcing line breaks, as these don’t mesh with Atlas’s book building tools.</p>
</div>
</section>

<section data-type="sect2" id="indexing">
<h2>Indexing</h2>

<p>This section describes how to create an automatically generated index in AsciiDoc. We’ve extended <a class="link " href="http://www.methods.co.nz/asciidoc/userguide.html#\_indexes">indexing in AsciiDoc</a> to include ranges, sees, and see alsos.</p>

<section data-type="sect3" id="_create_the_index_file">
<h3>Create the index file</h3>

<p>To include an index in your book, first create a blank <em>index.asciidoc</em> file and add this single line of text:</p>

<pre data-type="programlisting">
== Index</pre>

<p>The index entries will be auto-generated during the build process, using the index markers you place in the text, as described in the next section. Just be sure to include the <em>index.asciidoc</em> file in the build.</p>
</section>

<section data-type="sect3" id="_syntax">
<h3>Syntax</h3>

<p>Each index marker is generally surrounded with quotation marks. But for basic index entries without attributes (i.e., without ranges, a “see,” a “see also,” or a “sortas”), you do not need to enclose terms in quotation marks. For example, the following markup is fine:</p>

<pre data-type="programlisting">
(((XML, RDF, SPARQL)))</pre>

<p>However, if you include any attributes, you must put all entries in quotes as seen below, e.g.:</p>

<pre data-type="programlisting">
((("XML", "RDF", "SPARQL", seealso="XQuery")))</pre>

<div data-type="note" id="id-lN9sR"><h6>Note</h6>
<p>For anything not mentioned below, please refer to the <a class="link " href="http://www.methods.co.nz/asciidoc/userguide.html">AsciiDoc User Guide</a>.</p>
</div>

<p>Basic index entry:</p>

<pre data-type="programlisting">
((("primary index term")))</pre>

<p>Secondary entry:</p>

<pre data-type="programlisting">
((("primary index term", "subentry")))</pre>

<p>Tertiary entry:</p>

<pre data-type="programlisting">
((("primary index term", "subentry", "sub-subentry")))</pre>

<p>An index entry with a range:</p>

<pre data-type="programlisting">
The future of ebooks is HTML5.((("HTML5", id="ix_html5", range="startofrange")))
In the following pages
...
blah blah blah canvas
blah blah blah local storage
blah blah blah geolocation
...
Learn HTML 5 today!(((range="endofrange", startref="ix_html5")))</pre>

<p>An index entry with a “(see)” and no page reference:</p>

<pre data-type="programlisting">
Flash has been supplanted by HTML5.((("Flash", see="HTML5")))</pre>

<p>An index entry with a “(see also)”:</p>

<p>There are two markup options for "see also" entries.</p>

<ul>
	<li>
	<p>You can embed the <code>seealso</code> with the primary entry. This will render a page number next to the primary entry:</p>
	</li>
</ul>

<pre data-type="programlisting">
In addition to the Makerbot, RepRap also allows you to make 3-D stuff
((("Makerbot", seealso="RepRap")))</pre>

<ul>
	<li>
	<p>Or if there’s a subentry, you can embed the <code>seealso</code> entry after the it:</p>
	</li>
</ul>

<pre data-type="programlisting">
In addition to the Makerbot, RepRap also allows you to make 3-D stuff
((("Makerbot", "3-D", seealso="RepRap")))</pre>

<div data-type="warning" id="id-mloC3"><h6>Warning</h6>
<p>Any "(see also)" entries that are nested under primary entries with no page numbers of their own (i.e., primary entries that have subentries) will render with extra indentation.</p>
</div>

<p>To alphabetize an index entry differently than the default, use "sortas" to assign a new label to be used for alphabetization. For example:</p>

<pre data-type="programlisting">
Makerbot lets you produce your own 3-D trinkets.((("3-D", sortas="three-d")))</pre>
</section>
</section>
</section>
</section>
